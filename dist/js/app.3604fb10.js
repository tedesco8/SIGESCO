(function(t){function e(e){for(var i,r,n=e[0],l=e[1],c=e[2],v=0,u=[];v<n.length;v++)r=n[v],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},o={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.logueado?a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministrador||t.esAlmacenero||t.esVendedor?[a("v-list-item",{attrs:{to:{name:"home"}}},[a("v-list-item-action",[a("v-icon",[t._v("home")])],1),a("v-list-item-title",[t._v("\n            Inicio\n          ")])],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Almacén\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:"categoria"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Categorías\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:"articulo"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Artículos\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Compras\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:"ingreso"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Ingresos\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:"proveedor"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Proveedores\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Ventas\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Ventas\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:"cliente"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Clientes\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Accesos\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:"usuario"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Usuarios\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esAlmacenero||t.esVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Reportes\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Consulta Compras\n              ")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                Consulta Ventas\n              ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("SIGESCO")])],1),a("v-spacer"),t.logueado?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.salir()}}},[a("v-icon",[t._v("logout")])],1):a("v-btn",{attrs:{to:{name:"login"},icon:""}},[a("v-icon",[t._v("apps")])],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",title:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[t._v("\n            TedescoDev ©2019\n          ")])],1)],1)],1)],1)],1)},s=[],r={name:"App",data(){return{drawer:!0}},computed:{logueado(){return this.$store.state.usuario},esAdministrador(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},esAlmacenero(){return this.$store.state.usuario&&"Almacenero"==this.$store.state.usuario.rol},esVendedor(){return this.$store.state.usuario&&"Vendedor"==this.$store.state.usuario.rol}},created(){this.$store.dispatch("autoLogin")},methods:{salir(){this.$store.dispatch("salir")}}},n=r,l=a("2877"),c=a("6544"),d=a.n(c),v=a("7496"),u=a("40dc"),m=a("5bc1"),h=a("8336"),p=a("b0af"),_=a("99d9"),b=a("a523"),f=a("a75b"),x=a("0e8f"),g=a("553a"),k=a("132d"),C=a("a722"),y=a("8860"),V=a("56b0"),A=a("da13"),M=a("1800"),I=a("5d23"),T=a("f774"),w=a("0789"),D=a("2fa4"),j=a("2a7f"),N=Object(l["a"])(n,o,s,!1,null,null,null),E=N.exports;d()(N,{VApp:v["a"],VAppBar:u["a"],VAppBarNavIcon:m["a"],VBtn:h["a"],VCard:p["a"],VCardText:_["b"],VContainer:b["a"],VContent:f["a"],VFlex:x["a"],VFooter:g["a"],VIcon:k["a"],VLayout:C["a"],VList:y["a"],VListGroup:V["a"],VListItem:A["a"],VListItemAction:M["a"],VListItemContent:I["a"],VListItemTitle:I["b"],VNavigationDrawer:T["a"],VSlideYTransition:w["e"],VSpacer:D["a"],VToolbarTitle:j["a"]});var S=a("8c4f"),$=a("2f62"),P=a("04e1"),O=a.n(P);i["a"].use($["a"]);var L=new $["a"].Store({state:{token:null,usuario:null},mutations:{setToken(t,e){t.token=e},setUsuario(t,e){t.usuario=e}},actions:{guardarToken({commit:t},e){t("setToken",e),t("setUsuario",O()(e)),localStorage.setItem("token",e)},autoLogin({commit:t}){let e=localStorage.getItem("token");e&&(t("setToken",e),t("setUsuario",O()(e))),zt.push({name:"home"})},salir({commit:t}){t("setToken",null),t("setUsuario",null),localStorage.removeItem("token"),zt.push({name:"login"})}}}),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("HelloWorld")},B=[],R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-layout",{attrs:{"text-center":"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),i("v-flex",{attrs:{"mb-4":""}},[i("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("\n        Welcome to Vuetify\n      ")]),i("p",{staticClass:"subheading font-weight-regular"},[t._v("\n        For help and collaboration with other Vuetify developers,\n        "),i("br"),t._v("please join our online\n        "),i("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),i("v-flex",{attrs:{"mb-5":"",xs12:""}},[i("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),i("v-layout",{attrs:{"justify-center":""}},t._l(t.whatsNext,(function(e,a){return i("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1),i("v-flex",{attrs:{xs12:"","mb-5":""}},[i("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),i("v-layout",{attrs:{"justify-center":""}},t._l(t.importantLinks,(function(e,a){return i("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1),i("v-flex",{attrs:{xs12:"","mb-5":""}},[i("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),i("v-layout",{attrs:{"justify-center":""}},t._l(t.ecosystem,(function(e,a){return i("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0)],1)],1)],1)},U=[],q={data:()=>({ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]})},G=q,W=a("adda"),H=Object(l["a"])(G,R,U,!1,null,null,null),J=H.exports;d()(H,{VContainer:b["a"],VFlex:x["a"],VImg:W["a"],VLayout:C["a"]});var Q={components:{HelloWorld:J}},Y=Q,z=Object(l["a"])(Y,F,B,!1,null,null,null),K=z.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorías")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Activar Item\n                    ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Desactivar Item\n                    ")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("edit")]),i.estado?a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,i)}}},[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,i)}}},[t._v("check")])],1)]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.descripcion))])]}},{key:"item.estado",fn:function(e){var i=e.item;return[i.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},Z=[],tt=a("bc3a"),et=a.n(tt),at={data(){return{dialog:!1,search:"",categorias:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar()},methods:{listar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.get("categoria/list",a).then((function(e){t.categorias=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la categoría debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripción de la categoría no debe tener más de 255 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){let t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?et.a.put("categoria/update",{_id:this._id,nombre:this.nombre,descripcion:this.descripcion},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):et.a.post("categoria/add",{nombre:this.nombre,descripcion:this.descripcion},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.nombre=t.nombre,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("categoria/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("categoria/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close(){this.dialog=!1}}},it=at,ot=a("8fea"),st=a("169a"),rt=a("ce7e"),nt=a("8654"),lt=a("71d9"),ct=Object(l["a"])(it,X,Z,!1,null,null,null),dt=ct.exports;d()(ct,{VBtn:h["a"],VCard:p["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:b["a"],VDataTable:ot["a"],VDialog:st["a"],VDivider:rt["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSpacer:D["a"],VTextField:nt["a"],VToolbar:lt["a"],VToolbarTitle:j["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[a("v-toolbar-title",[t._v("\n                Acceso al Sistema\n                ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v("\n                    "+t._s(t.errorM)+"\n                ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.ingresar()}}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},ut=[],mt={data(){return{email:"",password:"",errorM:null}},methods:{ingresar(){et.a.post("usuario/login",{email:this.email,password:this.password}).then(t=>{return t.data}).then(t=>{this.$store.dispatch("guardarToken",t.tokenReturn),this.$router.push({name:"home"})}).catch(t=>{this.errorM=null,404==t.response.status?this.errorM="No exíste el usuario o las credenciales son incorrectas":this.errorM="Ocurrió un error con el servidor"})}}},ht=mt,pt=Object(l["a"])(ht,vt,ut,!1,null,null,null),_t=pt.exports;d()(pt,{VBtn:h["a"],VCard:p["a"],VCardActions:_["a"],VCardText:_["b"],VFlex:x["a"],VLayout:C["a"],VTextField:nt["a"],VToolbar:lt["a"],VToolbarTitle:j["a"]});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Activar Item\n                    ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Desactivar Item\n                    ")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("edit")]),i.estado?a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,i)}}},[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,i)}}},[t._v("check")])],1)]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.rol))]),a("td",[t._v(t._s(e.item.tipo_documento))]),a("td",[t._v(t._s(e.item.num_documento))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))])]}},{key:"item.estado",fn:function(e){var i=e.item;return[i.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},ft=[],xt={data(){return{dialog:!1,search:"",usuarios:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Rol",value:"rol",sortable:!0},{text:"Tipo Documento",value:"tipo_documento",sortable:!0},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nombre:"",rol:"",roles:["Administrador","Almacenero","Vendedor"],tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",password:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar()},methods:{listar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.get("usuario/list",a).then((function(e){t.usuarios=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.password="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],this.rol||this.validaMensaje.push("Seleccione un rol."),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del usuario debe tener entre 1-50 caracteres."),this.num_documento.length>20&&this.validaMensaje.push("El documento no debe tener más de 20 caracteres."),this.direccion.length>70&&this.validaMensaje.push("La dirección no debe tener más de 70 caracteres."),this.telefono.length>20&&this.validaMensaje.push("El teléfono no debe tener más de 20 caracteres."),(this.email.length<1||this.nombre.length>50)&&this.validaMensaje.push("El email del usuario debe tener entre 1-50 caracteres."),(this.password.length<1||this.nombre.length>64)&&this.validaMensaje.push("El password del usuario debe tener entre 1-64 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){let t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?et.a.put("usuario/update",{_id:this._id,rol:this.rol,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email,password:this.password},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):et.a.post("usuario/add",{rol:this.rol,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email,password:this.password},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("usuario/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("usuario/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close(){this.dialog=!1}}},gt=xt,kt=a("b974"),Ct=Object(l["a"])(gt,bt,ft,!1,null,null,null),yt=Ct.exports;d()(Ct,{VBtn:h["a"],VCard:p["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:b["a"],VDataTable:ot["a"],VDialog:st["a"],VDivider:rt["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:kt["a"],VSpacer:D["a"],VTextField:nt["a"],VToolbar:lt["a"],VToolbarTitle:j["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Artículos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"precio_venta"},model:{value:t.precio_venta,callback:function(e){t.precio_venta=e},expression:"precio_venta"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Activar Item\n                    ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Desactivar Item\n                    ")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("edit")]),i.estado?a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,i)}}},[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,i)}}},[t._v("check")])],1)]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.codigo))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.categoria.nombre))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.precio_venta))]),a("td",[t._v(t._s(e.item.descripcion))])]}},{key:"item.estado",fn:function(e){var i=e.item;return[i.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},At=[],Mt={data(){return{dialog:!1,search:"",articulos:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoría",value:"categoria.nombre",sortable:!1},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",categoria:"",categorias:[],codigo:"",nombre:"",stock:0,precio_venta:0,descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar(),this.selectCategoria()},methods:{selectCategoria(){let t=this,e=[],a={Token:this.$store.state.token},i={headers:a};et.a.get("categoria/list",i).then((function(a){e=a.data,e.map((function(e){t.categorias.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},listar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.get("articulo/list",a).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.codigo="",this.stock=0,this.precio_venta=0,this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],this.categoria||this.validaMensaje.push("Seleccione una categoría"),this.codigo.length>64&&this.validaMensaje.push("El código no debe tener más de 64 caracteres"),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del artículo debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripción del artículo no debe tener más de 255 caracteres."),this.stock<0&&this.validaMensaje.push("Ingrese un stock valido"),this.precio_venta<0&&this.validaMensaje.push("Ingrese un precio de venta valido"),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){let t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?et.a.put("articulo/update",{_id:this._id,categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precio_venta:this.precio_venta,descripcion:this.descripcion},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):et.a.post("articulo/add",{categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precio_venta:this.precio_venta,descripcion:this.descripcion},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.categoria=t.categoria._id,this.codigo=t.codigo,this.nombre=t.nombre,this.stock=t.stock,this.precio_venta=t.precio_venta,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("articulo/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("articulo/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close(){this.dialog=!1}}},It=Mt,Tt=Object(l["a"])(It,Vt,At,!1,null,null,null),wt=Tt.exports;d()(Tt,{VBtn:h["a"],VCard:p["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:b["a"],VDataTable:ot["a"],VDialog:st["a"],VDivider:rt["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:kt["a"],VSpacer:D["a"],VTextField:nt["a"],VToolbar:lt["a"],VToolbarTitle:j["a"]});var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Activar Item\n                    ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Desactivar Item\n                    ")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("edit")]),i.estado?a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,i)}}},[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,i)}}},[t._v("check")])],1)]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.tipo_persona))]),a("td",[t._v(t._s(e.item.tipo_documento))]),a("td",[t._v(t._s(e.item.num_documento))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))])]}},{key:"item.estado",fn:function(e){var i=e.item;return[i.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},jt=[],Nt={data(){return{dialog:!1,search:"",personas:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Tipo Persona",value:"tipo_persona",sortable:!0},{text:"Tipo Documento",value:"tipo_documento",sortable:!0},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nombre:"",tipo_persona:"Cliente",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar()},methods:{listar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.get("persona/listClientes",a).then((function(e){t.personas=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la persona debe tener entre 1-50 caracteres."),this.num_documento.length>20&&this.validaMensaje.push("El documento no debe tener más de 20 caracteres."),this.direccion.length>70&&this.validaMensaje.push("La dirección no debe tener más de 70 caracteres."),this.telefono.length>20&&this.validaMensaje.push("El teléfono no debe tener más de 20 caracteres."),this.email.length>50&&this.validaMensaje.push("El email del usuario debe tener menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){let t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?et.a.put("persona/update",{_id:this._id,tipo_persona:this.tipo_persona,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):et.a.post("persona/add",{tipo_persona:this.tipo_persona,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("persona/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("persona/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close(){this.dialog=!1}}},Et=Nt,St=Object(l["a"])(Et,Dt,jt,!1,null,null,null),$t=St.exports;d()(St,{VBtn:h["a"],VCard:p["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:b["a"],VDataTable:ot["a"],VDialog:st["a"],VDivider:rt["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:kt["a"],VSpacer:D["a"],VTextField:nt["a"],VToolbar:lt["a"],VToolbarTitle:j["a"]});var Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Proveedores")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},i),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Activar Item\n                    ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Desactivar Item\n                    ")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v("edit")]),i.estado?a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,i)}}},[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,i)}}},[t._v("check")])],1)]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.tipo_persona))]),a("td",[t._v(t._s(e.item.tipo_documento))]),a("td",[t._v(t._s(e.item.num_documento))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))])]}},{key:"item.estado",fn:function(e){var i=e.item;return[i.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},Ot=[],Lt={data(){return{dialog:!1,search:"",personas:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Tipo Persona",value:"tipo_persona",sortable:!0},{text:"Tipo Documento",value:"tipo_documento",sortable:!0},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nombre:"",tipo_persona:"Proveedor",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar()},methods:{listar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.get("persona/listProveedores",a).then((function(e){t.personas=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la persona debe tener entre 1-50 caracteres."),this.num_documento.length>20&&this.validaMensaje.push("El documento no debe tener más de 20 caracteres."),this.direccion.length>70&&this.validaMensaje.push("La dirección no debe tener más de 70 caracteres."),this.telefono.length>20&&this.validaMensaje.push("El teléfono no debe tener más de 20 caracteres."),this.email.length>50&&this.validaMensaje.push("El email del usuario debe tener menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){let t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?et.a.put("persona/update",{_id:this._id,tipo_persona:this.tipo_persona,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):et.a.post("persona/add",{tipo_persona:this.tipo_persona,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("persona/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("persona/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close(){this.dialog=!1}}},Ft=Lt,Bt=Object(l["a"])(Ft,Pt,Ot,!1,null,null,null),Rt=Bt.exports;d()(Bt,{VBtn:h["a"],VCard:p["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:b["a"],VDataTable:ot["a"],VDialog:st["a"],VDivider:rt["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:kt["a"],VSpacer:D["a"],VTextField:nt["a"],VToolbar:lt["a"],VToolbarTitle:j["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Ingresos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==t.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),a("v-spacer"),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v("Nuevo")]):t._e(),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Activar Item\n                    ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("\n                        Desactivar Item\n                    ")]):t._e(),a("v-card-text",[t._v("\n                        Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+"\n                    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("\n                            Cancelar\n                        ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("\n                            Activar\n                        ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("\n                            Desactivar\n                        ")]):t._e()],1)],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ingresos,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var i=e.item;return[i.estado?a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,i)}}},[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,i)}}},[t._v("check")])],1)]}},{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.usuario.nombre))]),a("td",[t._v(t._s(e.item.persona.nombre))]),a("td",[t._v(t._s(e.item.tipo_comprobante))]),a("td",[t._v(t._s(e.item.serie_comprobante))]),a("td",[t._v(t._s(e.item.num_comprobante))]),a("td",[t._v(t._s(e.item.createdAT))]),a("td",[t._v(t._s(e.item.impuesto))]),a("td",[t._v(t._s(e.item.total))])]}},{key:"item.estado",fn:function(e){var i=e.item;return[i.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Anulado")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}],null,!1,2661575689)}):t._e(),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",x14:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo Comprobante"},model:{value:t.tipo_comprobante,callback:function(e){t.tipo_comprobante=e},expression:"tipo_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",x14:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.serie_comprobante,callback:function(e){t.serie_comprobante=e},expression:"serie_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",x14:""}},[a("v-text-field",{attrs:{label:"Número Comprobante"},model:{value:t.num_comprobante,callback:function(e){t.num_comprobante=e},expression:"num_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",x18:""}},[a("v-autocomplete",{attrs:{items:t.personas,label:"Proveedor"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",x14:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",x18:""}},[a("v-text-field",{attrs:{label:"Buscar por código de barra"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",x12:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{xs12:"",sm2:"",md2:"",lg2:"",x12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.eliminarDetalle(t.detalles,e.item)}}},[t._v("\n                                    delete\n                                    ")])],1),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.articulo))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cantidad))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.precio))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cantidad*e.item.precio))])]}}],null,!1,1081682932)},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos agregados al detalle.")])])],2)]],2),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1):t._e()],1)],1)},qt=[],Gt={data(){return{dialog:!1,search:"",ingresos:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario.nombre",sortable:!0},{text:"Proveedor",value:"persona.nombre",sortable:!0},{text:"Tipo Comprobante",value:"tipo_comprobante",sortable:!0},{text:"Serie Comprobante",value:"serie_comprobante",sortable:!1},{text:"Número Comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",persona:"",personas:[],tipo_comprobante:"",comprobantes:["Boleta","Factura","Ticket","Guia"],serie_comprobante:"",num_comprobante:"",impuesto:18,codigo:"",cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalles:[],verNuevo:0,errorArticulo:null,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar(),this.selectPersona()},methods:{selectPersona(){let t=this,e=[],a={Token:this.$store.state.token},i={headers:a};et.a.get("persona/listProveedores",i).then((function(a){e=a.data,e.map((function(e){t.personas.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},buscarCodigo(){let t=this;t.errorArticulo=null;let e={Token:this.$store.state.token},a={headers:e};et.a.get("articulo/queryCodigo?codigo="+this.codigo,a).then((function(e){t.agregarDetalle(e.data)})).catch((function(e){t.errorArticulo="No exíste el artículo"}))},agregarDetalle(t){this.errorArticulo=null,1==this.encuentra(t._id)?this.errorArticulo="El artículo ya ha sido agregado.":(this.detalles.push({_id:t._id,articulo:t.nombre,cantidad:1,precio:t.precio_venta}),this.codigo="")},encuentra(t){let e=0;for(var a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminarDetalle(t,e){let a=t.indexOf(e);-1!=a&&t.splice(a,1)},listar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.get("ingreso/list",a).then((function(e){t.ingresos=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.codigo="",this.stock=0,this.precio_venta=0,this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],this.categoria||this.validaMensaje.push("Seleccione una categoría"),this.codigo.length>64&&this.validaMensaje.push("El código no debe tener más de 64 caracteres"),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del artículo debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripción del artículo no debe tener más de 255 caracteres."),this.stock<0&&this.validaMensaje.push("Ingrese un stock valido"),this.precio_venta<0&&this.validaMensaje.push("Ingrese un precio de venta valido"),this.validaMensaje.length&&(this.valida=1),this.valida},mostrarNuevo(){this.verNuevo=1},ocultarNuevo(){this.verNuevo=0},guardar(){let t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?et.a.put("articulo/update",{_id:this._id,categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precio_venta:this.precio_venta,descripcion:this.descripcion},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):et.a.post("articulo/add",{categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precio_venta:this.precio_venta,descripcion:this.descripcion},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.categoria=t.categoria._id,this.codigo=t.codigo,this.nombre=t.nombre,this.stock=t.stock,this.precio_venta=t.precio_venta,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("articulo/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e={Token:this.$store.state.token},a={headers:e};et.a.put("articulo/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close(){this.dialog=!1}}},Wt=Gt,Ht=a("c6a6"),Jt=Object(l["a"])(Wt,Ut,qt,!1,null,null,null),Qt=Jt.exports;d()(Jt,{VAutocomplete:Ht["a"],VBtn:h["a"],VCard:p["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:b["a"],VDataTable:ot["a"],VDialog:st["a"],VDivider:rt["a"],VFlex:x["a"],VIcon:k["a"],VLayout:C["a"],VSelect:kt["a"],VSpacer:D["a"],VTextField:nt["a"],VToolbar:lt["a"],VToolbarTitle:j["a"]}),i["a"].use(S["a"]);var Yt=new S["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:K,meta:{administrador:!0,almacenero:!0,vendedor:!0}},{path:"/login",name:"login",component:_t,meta:{libre:!0}},{path:"/categoria",name:"categoria",component:dt,meta:{administrador:!0,almacenero:!0}},{path:"/articulo",name:"articulo",component:wt,meta:{administrador:!0,almacenero:!0}},{path:"/ingreso",name:"ingreso",component:Qt,meta:{administrador:!0,almacenero:!0}},{path:"/cliente",name:"cliente",component:$t,meta:{administrador:!0,vendedor:!0}},{path:"/proveedor",name:"proveedor",component:Rt,meta:{administrador:!0,almacenero:!0}},{path:"/usuario",name:"usuario",component:yt,meta:{administrador:!0}}]});Yt.beforeEach((t,e,a)=>{t.matched.some(t=>t.meta.libre)?a():L.state.usuario&&"Administrador"==L.state.usuario.rol?t.matched.some(t=>t.meta.administrador)&&a():L.state.usuario&&"Vendedor"==L.state.usuario.rol?t.matched.some(t=>t.meta.vendedor)&&a():L.state.usuario&&"Almacenero"==L.state.usuario.rol?t.matched.some(t=>t.meta.almacenero)&&a():a({name:"login"})});var zt=Yt,Kt=a("f309"),Xt=a("2e15"),Zt=a.n(Xt);i["a"].use(Kt["a"]);var te=new Kt["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{es:Zt.a},current:"es"},icons:{iconfont:"md"}});i["a"].config.productionTip=!1,et.a.defaults.baseURL="proxy: http://localhost:4000/api/",new i["a"]({router:zt,store:L,vuetify:te,render:t=>t(E)}).$mount("#app")},"9b19":function(t,e,a){t.exports=a.p+"img/logo.63a7d78d.svg"}});
//# sourceMappingURL=app.3604fb10.js.map